!function(){"use strict";function s(e,t,n){if(this.container=e,this.tabBar=t,n=n||{},this.toc=n.toc,this.maxPage=this.toc?this.toc.length:Number(n.maxPage),this.num=n.startPage,this.path=n.path||n.subfolder||"",this.cookieName="cookieName"in n?n.cookieName:"p",!/^\d+$/.test(this.maxPage)||0===this.maxPage)throw"CurvyTabsPager options (4th param to constructor) must include `toc` (non-zero-length array) OR `maxPage` (positive integer).";t.paint(),l(document,s.stylesheet),e.innerHTML+=s.html;var i=Array.prototype.find.call(t.container.querySelectorAll("iframe:not([src])"),function(e){return"none"!==window.getComputedStyle(e).display});this.contentWindow=i.contentWindow,this.mainTab=i.parentElement;var a=this,o=e.querySelectorAll(".page-button");(this.goPrevEl=o[0]).onclick=function(){a.page(a.num-1)},(this.goNextEl=o[1]).onclick=function(){a.page(a.num+1)},this.sliderEl=e.querySelector(".page-slider"),this.sliderEl.oninput=function(){a.page(this.value)},this.sliderEl.onchange=this.sliderEl.oninput;var r=e.querySelectorAll(".page-number");this.numEl=r[0],(this.maxEl=r[1]).innerText=this.sliderEl.max=this.maxPage,window.addEventListener("curvy-tabs-pager-register",function(e){l(this.contentWindow.document,".curvy-tab-conditional { display: none; }"),this.contentWindow.addEventListener("keydown",function(e){switch(e.key){case"ArrowLeft":case"ArrowRight":document.dispatchEvent(new KeyboardEvent("keydown",{key:e.key}))}}),this.tabBar.reset();var t=this.contentWindow.document.getElementsByClassName("curvy-tab-conditional");Array.prototype.forEach.call(t,function(e){var t=e.getAttribute("name"),n=this.tabBar.getTab(t).querySelector("iframe").contentWindow,i=n.document.body;i.innerHTML=e.innerHTML,this.tabBar.show(t)},this)}.bind(this)),document.addEventListener("keydown",function(e){var t=document.activeElement;if("TEXTAREA"!==t.tagName&&("INPUT"!==t.tagName||"text"!==t.type))switch(e.key){case"ArrowLeft":1<this.num&&this.page(--this.num);break;case"ArrowRight":this.num<this.maxPage&&this.page(++this.num)}}.bind(this)),this.page(this.getPageNum(this.num)||1)}function l(e,t,n){if(n="injected-stylesheet-"+(n||"curvy-tabs-pager"),!e.head.querySelector("style#"+n)){var i=e.head.querySelector("style#injected-stylesheet-curvy-tabs"),a=e.createElement("style");a.id=n,a.innerHTML=t,e.head.insertBefore(a,i&&i.nextElementSibling)}}s.prototype.getPageNum=function(t){var e;return/^\d+$/.test(t)?((e=Number(t))<1||e>this.maxPage)&&(e=0):e=this.toc?1+this.toc.findIndex(function(e){return t===e}):0,e},s.prototype.page=function(e,t){var n=this.getPageNum(e);if(n){if(void 0===t&&(t=this.path),this.tabBar.select(this.mainTab),this.num=n,this.cookieName){var i=new Date;i.setYear(i.getFullYear()+1),document.cookie=this.cookieName+"="+this.num+"; expires="+i.toUTCString()}this.contentWindow.location.href=t+(this.toc?this.toc[this.num-1]:this.num+".html"),this.numEl.innerText=this.sliderEl.value=this.num,this.goPrevEl.classList.toggle("page-button-enabled-prev",1!==this.num),this.goNextEl.classList.toggle("page-button-enabled-next",this.num!==this.maxPage)}return n},s.stylesheet="\n/* CONTENT I-FRAMES */\n\n.curvy-tabs-container iframe {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: calc(100% + 16px); /* 16px counters container's 8px left padding + 8px right padding */\n    border: 0;\n}\n\n/* PAGE NUMBER CONTROLS */\n\n.page-number {\n    display: inline-block;\n    width: 2em;\n    text-align: center;\n}\n.page-slider {\n    margin-left: .5em;\n    width: 50px;\n    vertical-align: middle;\n}\n.page-button {\n    color: #d8d8d8;\n    user-select: none;\n    cursor: pointer;\n    border: 1px solid transparent;\n    border-radius: 5px;\n    padding: 3px 5px 1px 5px;\n}\n.page-button-enabled-prev, .page-button-enabled-next {\n    color: black;\n}\n.page-button-enabled:hover, .page-button-enabled:active {\n    border: 1px solid grey;\n}\n.page-button-enabled-prev:active {\n    padding-left: 3px;\n    padding-right: 7px;\n}\n.page-button-enabled-next:active {\n    padding-left: 7px;\n    padding-right: 3px;\n}",s.html='\n<span class="page-button page-button-enabled" title="Click to go to previous page (or press left-arrow key)">&#x25c0;</span>\nPage <input class="page-slider" type="range" min="1" max="3" value="1">\n<b class="page-number"></b> of <b class="page-number"></b>\n<span class="page-button page-button-enabled" title="Click to go to next page (or press right-arrow key)">&#x25ba;</span>\n',s.version="2.0.1",window.CurvyTabsPager=s}();